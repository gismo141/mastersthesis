digraph WC {
	{	node [group=g1]
		Scan_AP [label="Umgebungsscan"];
		Scan_AP_SK [label="Sensorkoordinaten"];
		Scan_AP_TK [label="Trägerkoordinaten"];
		Scan_AP_WK [label="Weltkoordinaten (rel.)"];
		node [shape=rectangle]
		Ausgangspose [label="Ausgangspose (AP)", group=g1];
		node [shape=diamond]
		Scan_zu_SK1 [label="1a"];
		SK_zu_TK1 [label="2a"];
		TK_zu_WK1 [label="3a"];
	}

	{	node [group=g2]
		Bewegung [shape=none, label="Veränderung durch\nBewegung"];
		IMU [label="IMU"];
		ICP [shape=doubleoctagon, label="ICP"];
		MontagePose [shape=rectangle, label="Sensorpose zur IMU", group=g2];
	}

	{	node [group=g3]
		Scan_EP [label="Umgebungsscan"];
		Scan_EP_SK [label="Sensorkoordinaten"];
		Scan_EP_TK [label="Trägerkoordinaten"];
		Scan_EP_WK [label="Weltkoordinaten (rel.)"];
		node [shape=rectangle]
		Endpose [label="Endpose (EP)", group=g3];
		node [shape=diamond]
		Scan_zu_SK2 [label="1b"];
		SK_zu_TK2 [label="2b"];
		TK_zu_WK2 [label="3b"];
	}

	{	rank=same;
			Ausgangspose; Endpose; Bewegung;
	}

	{	rank=same;
			Scan_zu_SK1; Scan_zu_SK2;
	}

	{	rank=same;
			SK_zu_TK1; SK_zu_TK2;
	}

	{	edge [style=dotted, arrowhead=none]
		Ausgangspose -> Bewegung;
		Bewegung -> Endpose;
		Bewegung -> IMU;
	}
	Ausgangspose -> Scan_AP;
	Endpose -> Scan_EP;

	IMU -> Scan_zu_SK1;
	IMU -> Scan_zu_SK2;
	IMU -> TK_zu_WK1;

	MontagePose -> SK_zu_TK1;
	MontagePose -> SK_zu_TK2;

	Scan_AP -> Scan_zu_SK1 -> Scan_AP_SK -> SK_zu_TK1 -> Scan_AP_TK -> TK_zu_WK1 -> Scan_AP_WK -> ICP;
	Scan_EP -> Scan_zu_SK2 -> Scan_EP_SK -> SK_zu_TK2 -> Scan_EP_TK -> TK_zu_WK2 -> Scan_EP_WK -> ICP;

	ICP -> MontagePose [style=dotted, label=" update"];
}
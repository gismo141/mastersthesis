# Masterarbeit - Relative Extrinsische Kalibrierung bildgebender Sensoren

## Abstract

Unmanned aircraft fulfil dirty, dangerous and demeaning tasks for human beings. Some applications require a map of the environment by consecutively registering point-cloud-data generated by LiDAR-sensors. The registration-process requires a mounting-pose between the LiDAR and NAV sensors (IMU and GNSS). Due to inaccurate measured mounting-poses the registration fails. In this thesis I propose a method for an automated relative extrinsic calibration between the LiDAR and NAV, that uses a non-linear optimisation (Levenberg-Marquardt) to optimize the given mounting-pose. The results show, that the calibration may fail when the point-cloud data suffers from geometric instability, therefore I present different filter-techniques such as covariance-sampling to improve the point-cloud-data. This promising approach needs investigation concerning the parametrization of the proposed techniques.

## Zusammenfassung

Unbemannte Luftfahrzeuge werden verwendet, um für den Menschen niedere, gefährliche und zermürbende Aufgaben zu erfüllen. Für anspruchsvolle Anwendungen werden Umgebungskarten benötigt, die mit LiDAR-Sensoren erstellt werden. Dabei werden Punktwolken anhand der Montagepose des LiDAR zu NAV-Sensoren (IMU und GNSS) registriert. Die Genauigkeit der Montagepose, die bisher ungenau und aufwendig von Hand vermessen wird, entscheidet über die Qualität der Karte. In dieser Arbeit wird ein Ansatz zur automatisierten relativen Kalibrierung von LiDAR zu NAV vorgestellt, der die Montagepose durch eine nicht-lineare Optimierung (nach Levenberg-Marquardt) bestimmt. Die Ergebnisse zeigen, dass die Kalibrierung fehlschlagen kann, wenn die Punktwolken geometrisch instabil sind, weswegen Filter-Techniken wie das Kovarianz-Downsampling vorgestellt werden, um die Punktwolken-Daten zu verbessern. Der Ansatz ist vielversprechend. Weitere Forschung bezüglich der Parametrierung der vorgestellten Techniken ist angebracht und sinnvoll.

## Verwendung

Zur Reproduktion der Forschung wird im Folgenden die Entwicklungsumgebung vorgestellt. Für konkrete Information zur Installation wird einerseits auf die jeweilige Dokumentation für das Programm sowie auf das Github-Repository [gismo141/laserIMUCalibration](https://github.com/gismo141/laserIMUCalibration) als Begleitmaterial der vorliegenden Arbeit verwiesen.

Die Implementierung der Algorithmen erfolgte zur Erprobung und Herleitung in Python und in C++ zur Integration in das vorhandene Framework. Dabei wurden die Betriebssysteme Mac OS X 10.10.5 und Windows 7 verwendet. Es wurde darauf Wert gelegt, Open-Source Software zu verwenden.

## Entwicklungsumgebung

Zur bequemen Installation der benötigten Programme wird für Mac OS X ein Paketmanager wie [Homebrew](http://brew.sh) oder [MacPorts](https://www.macports.org) empfohlen. Eventuelle Abhängigkeiten können somit während der Installation festgestellt und aufgelöst werden. Homebrew trennt dabei die vom Benutzer installierten von den systemweiten Programmen, um Komplikationen zu verhindern.

Die benötigte Software kann auch gemäß Tabelle \ref{tab:notwendige_programme_zur_erstellung_der_arbeit_und_ihrer_abhängigkeiten} von Hand heruntergeladen, kompiliert und installiert werden.

Table: Notwendige Programme zur Erstellung der Arbeit und Ihrer Abhängigkeiten\label{tab:notwendige_programme_zur_erstellung_der_arbeit_und_ihrer_abhängigkeiten}

| Paket     | Verwendung                                                 |
| :---      | :----                                                      |
| Qt4       | UI-Design (Oberflächenentwicklung)                         |
| Eigen     | Mathematische Berechnungen                                 |
| Flann     | "Fast Library for Approximate Nearest Neighbors"           |
| Boost     | Portable C++ Bibliotheken                                  |
| VTK       | Visualisierung der Daten und Algorithmen                   |
| PCL       | Algorithmen zum Umgang mit Punktwolken (ICP, Outlier etc.) |
| CMake     | einheitliche Build-Umgebung                                |
| Python    | schnelles Algorithmen-Prototyping                          |
| Pandoc    | Erstellung der Masterarbeit in unterschiedlichen Formaten  |
| GraphViz  | Visualisierung der Graphen und Algorithmen                 |
| Doxygen   | Dokumentation des Quellcodes                               |
| Asymptote | Erstellung der Abbildungen                                 |

Im Anschluss wird ein iPython-Notebook verwendet, um die gewonnenen Daten auszuwerten und verschiedene Abbildungen zu setzen. Dies kann bequem über folgenden Befehl installiert und ausgeführt werden:

```Shell
sudo easy_install pip
pip install "ipython[notebook]"
ipython notebook Research.ipnb
```

Zur Erstellung der Masterarbeit werden zudem die Python-Filter zur Auswertung der Tabellen, Abbildungen und Gleichungen benötigt.

```Shell
pip install pandoc-eqnos pandoc-fignos pandoc-tablenos
```
